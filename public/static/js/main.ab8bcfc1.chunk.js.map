{"version":3,"sources":["withRoot.js","store/context.js","store/actionTypes.js","components/Auth/Signout.js","components/Header.js","graphql/subscriptions.js","components/Pin/NoContent.js","helpers/client.js","components/Pin/CreatePin.js","graphql/mutations.js","components/Comment/CreateComment.js","components/Comment/Comments.js","components/Pin/PinContent.js","components/Blog.js","components/PinIcon.js","components/Map.js","graphql/queries.js","pages/App.js","components/Auth/Login.js","pages/Splash.js","store/reducer.js","routes/ProtectedRoute.js","fontawesome.js","serviceWorker.js","index.js"],"names":["theme","createMuiTheme","palette","primary","light","purple","main","dark","secondary","green","typography","useNextVariants","withRoot","Component","props","react_default","a","createElement","styles","CssBaseline_default","Context","createContext","currentUser","isAuth","draft","pins","currentPin","LOGIN_USER","SIGNOUT_USER","IS_LOGGED_IN","CREATE_DRAFT","UPDATE_DRAFT_LOCATION","DELETE_DRAFT","CREATE_PIN","GET_PINS","SET_PIN","DELETE_PIN","CREATE_COMMENT","withStyles","root","cursor","display","buttonText","color","buttonIcon","marginLeft","_ref","classes","dispatch","useContext","mobileSize","useMediaQuery","google_login","onLogoutSuccess","type","console","log","render","_ref2","onClick","className","Typography_default","style","variant","ExitToApp_default","flexGrow","grow","alignItems","icon","marginRight","spacing","unit","fontSize","mobile","picture","height","borderRadius","state","AppBar_default","position","Toolbar_default","Map_default","component","noWrap","src","alt","name","Auth_Signout","PIN_ADDED_SUBSCRIPTION","gql","_templateObject","PIN_UPDATED_SUBSCRIPTION","_templateObject2","PIN_DELETED_SUBSCRIPTION","_templateObject3","flexDirection","justifyContent","margin","Explore_default","align","gutterBottom","BASE_URL","process","useClient","_useState","useState","_useState2","Object","slicedToArray","idToken","setIdToken","useEffect","token","window","gapi","auth2","getAuthInstance","get","getAuthResponse","id_token","GraphQLClient","headers","authorization","form","paddingBottom","contentField","width","input","alignCenter","iconLarge","leftIcon","rightIcon","button","marginTop","marginBottom","client","_useContext","title","setTitle","_useState3","_useState4","image","setImage","_useState5","_useState6","content","setContent","_useState7","_useState8","submitting","setSubmitting","handleClearForm","handleSubmit","asyncToGenerator","regenerator_default","mark","_callee","event","url","_state$draft","latitude","longitude","variables","wrap","_context","prev","next","preventDefault","handleImageUpload","sent","request","t0","Error","concat","stop","_x","apply","this","arguments","_ref3","_callee2","data","response","_context2","FormData","append","axios","post","abrupt","LandscapeOutlined_default","TextField_default","label","placeholder","onChange","e","target","value","accept","id","files","htmlFor","Button_default","size","AddAPhotoTwoTone_default","multiline","rows","fullWidth","Clear_default","disabled","trim","SaveTwoTone_default","flex","clearButton","padding","sendButton","comment","setComment","handleSubmitComment","pinId","_id","text","Fragment","IconButton_default","InputBase_default","Send_default","Divider_default","backgroundColor","background","paper","inline","comments","List_default","map","i","ListItem_default","key","ListItemAvatar_default","Avatar_default","author","ListItemText_default","format","createdAt","textAlign","_state$currentPin","Face_default","AccessTime_default","distanceInWordsToNow","addSuffix","Comment_CreateComment","Comment_Comments","minWidth","maxWidth","maxHeight","overflowY","rootMobile","overflowX","BlogContent","CreatePin","PinContent","NoContent","core_index_es","PinIcon","_this$props","_this$props$size","viewBox","fill","stroke","transform","d","strokeWidth","cx","cy","r","PureComponent","INITIAL_VIEWPORT","zoom","navigationControl","top","left","deleteIcon","popupImage","objectFit","popupTab","getPins","viewport","setViewport","userPosition","setUserPosition","getUserPosition","popup","setPopup","findIndex","pin","length","navigator","geolocation","getCurrentPosition","_position$coords","coords","objectSpread","payload","highlightOldPin","differenceInHours","Date","now","handleDeletePin","_ref6","esm","assign","mapboxApiAccessToken","mapStyle","onViewportChange","newViewport","_ref4","lngLat","leftButton","_lngLat","scrollZoom","offsetLeft","offsetTop","PinIcon_PinIcon","draggable","onDragStart","onDrag","onDragEnd","_ref5","_lngLat2","handleSelectPin","anchor","closeOnClick","onClose","toFixed","index_es","react_apollo_esm","subscription","onSubscriptionData","_ref7","pinAdded","subscriptionData","_ref8","pinUpdated","_ref9","pinDeleted","components_Blog","components_Header","components_Map","onSuccess","googleUser","me","isSignedIn","onFailure","err","error","JSON","stringify","clientId","Splash","Redirect","to","Auth_Login","reducer","action","newPin","prevPins","filter","toConsumableArray","deletedPin","filteredPins","updatedCurrentPin","updatedPins","ProtectedRoute","objectWithoutProperties","Route","library","add","faMapMarkerAlt","faTrashAlt","Boolean","location","hostname","match","wslink","WebSocketLink","uri","options","reconnect","ApolloClient","link","cache","InMemoryCache","ReactDOM","initialState","_useReducer","useReducer","_useReducer2","BrowserRouter","context","Provider","Switch","routes_ProtectedRoute","exact","path","App","document","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ab8bcfc1.chunk.js","sourcesContent":["import React from \"react\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport purple from \"@material-ui/core/colors/purple\";\nimport green from \"@material-ui/core/colors/green\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\n// A theme with custom primary and secondary color.\n// It's optional.\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: purple[300],\n      main: purple[500],\n      dark: purple[700]\n    },\n    secondary: {\n      light: green[300],\n      main: green[500],\n      dark: green[700]\n    }\n  },\n  typography: {\n    useNextVariants: true\n  }\n});\n\nfunction withRoot(Component) {\n  function WithRoot(props) {\n    // MuiThemeProvider makes the theme available down the React tree\n    // thanks to React context.\n    return (\n      <MuiThemeProvider theme={theme}>\n        {/* CssBaseline kickstart an elegant, consistent, and simple baseline to build upon. */}\n        {/* https://material-ui.com/getting-started/usage/#cssbaseline */}\n        <CssBaseline />\n        <Component {...props} />\n      </MuiThemeProvider>\n    );\n  }\n\n  return WithRoot;\n}\n\nexport default withRoot;\n","import { createContext } from 'react';\n\nconst Context = createContext({\n    currentUser: null,\n    isAuth: false,\n    draft: null, // for draft pin setting\n    pins: [],\n    currentPin: null\n});\n\nexport default Context;","export const LOGIN_USER = 'LOGIN_USER';\nexport const SIGNOUT_USER = 'SIGNOUT_USER';\nexport const IS_LOGGED_IN = 'IS_LOGGED_IN';\nexport const CREATE_DRAFT = 'CREATE_DRAFT';\nexport const UPDATE_DRAFT_LOCATION = 'UPDATE_DRAFT_LOCATION';\nexport const DELETE_DRAFT = 'DELETE_DRAFT';\nexport const CREATE_PIN = 'CREATE_PIN';\nexport const GET_PINS = 'GET_PINS';\nexport const SET_PIN = 'SET_PIN';\nexport const DELETE_PIN = 'DELETE_PIN';\nexport const CREATE_COMMENT = 'CREATE_COMMENT';","import React, { useContext } from \"react\";\nimport { GoogleLogout } from 'react-google-login';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { unstable_useMediaQuery as useMediaQuery } from '@material-ui/core/useMediaQuery'; \n\nimport Context from '../../store/context';\nimport { SIGNOUT_USER } from '../../store/actionTypes';\n\nconst Signout = ({ classes }) => {\n    const { dispatch } = useContext(Context);\n    const mobileSize = useMediaQuery('(max-width: 650px)');\n\n    const onSignout = () => {\n        dispatch({ type: SIGNOUT_USER });\n        console.log(\"Signed out\")\n    };\n\n    return (\n        <GoogleLogout \n            onLogoutSuccess={onSignout}\n            render={({ onClick }) => (\n                <span className={classes.root} onClick={onClick}>\n                    <Typography \n                        style={{ display: mobileSize ? 'none' : 'block' }}\n                        variant=\"body1\" \n                        className={classes.buttonText}>\n                        Sign Out\n                    </Typography>\n                    <ExitToAppIcon className={classes.buttonIcon} />\n                </span>\n            )}\n        />\n    );\n};\n\nconst styles = {\n  root: {\n    cursor: \"pointer\",\n    display: \"flex\"\n  },\n  buttonText: {\n    color: \"orange\"\n  },\n  buttonIcon: {\n    marginLeft: \"5px\",\n    color: \"orange\"\n  }\n};\n\nexport default withStyles(styles)(Signout);\n","import React, { useContext } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport MapIcon from \"@material-ui/icons/Map\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { unstable_useMediaQuery as useMediaQuery } from '@material-ui/core/useMediaQuery'; \n\nimport Context from '../store/context';\nimport Signout from '../components/Auth/Signout';\n\nconst Header = ({ classes }) => {\n    const { state } = useContext(Context);\n    const mobileSize = useMediaQuery('(max-width: 650px)');\n    const { currentUser } = state;\n\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"static\">\n                <Toolbar>\n                    <div className={classes.grow}>\n                        <MapIcon className={classes.icon} />\n                        <Typography \n                            className={mobileSize ? classes.mobile : ''}\n                            component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap>\n                            GeoPins\n                        </Typography>\n                    </div>\n                    {currentUser && (\n                        <div className={classes.grow}>\n                            <img \n                                className={classes.picture}\n                                src={currentUser.picture}\n                                alt={currentUser.name}\n                            />\n                            <Typography \n                                className={mobileSize ? classes.mobile : ''}\n                                variant=\"h5\" noWrap color=\"inherit\">\n                                {currentUser.name}\n                            </Typography>\n                        </div>\n                    )}\n                    <Signout />\n                </Toolbar>\n            </AppBar>\n        </div>\n    );\n};\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1\n  },\n  grow: {\n    flexGrow: 1,\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  icon: {\n    marginRight: theme.spacing.unit,\n    color: \"green\",\n    fontSize: 45\n  },\n  mobile: {\n    display: \"none\"\n  },\n  picture: {\n    height: \"50px\",\n    borderRadius: \"90%\",\n    marginRight: theme.spacing.unit * 2\n  }\n});\n\nexport default withStyles(styles)(Header);\n","import gql from \"graphql-tag\";\n\nexport const PIN_ADDED_SUBSCRIPTION = gql`\n  subscription {\n    pinAdded {\n      _id\n      createdAt\n      title\n      image\n      content\n      latitude\n      longitude\n      author {\n        _id\n        name\n        email\n        picture\n      }\n      comments {\n        text\n        createdAt\n        author {\n          name\n          picture\n        }\n      }\n    }\n  }\n`;\n\nexport const PIN_UPDATED_SUBSCRIPTION = gql`\n  subscription {\n    pinUpdated {\n      _id\n      createdAt\n      title\n      content\n      image\n      latitude\n      longitude\n      author {\n        _id\n        name\n      }\n      comments {\n        text\n        createdAt\n        author {\n          name\n          picture\n        }\n      }\n    }\n  }\n`;\n\nexport const PIN_DELETED_SUBSCRIPTION = gql`\n  subscription {\n    pinDeleted {\n      _id\n    }\n  }\n`;\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport ExploreIcon from \"@material-ui/icons/Explore\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst NoContent = ({ classes }) => (\n    <div className={classes.root}>\n        <ExploreIcon className={classes.icon} />\n        <Typography\n            noWrap\n            component=\"h2\"\n            variant=\"h6\"\n            align=\"center\"\n            color=\"textPrimary\"\n            gutterBottom\n        >\n            Click on the map to add a pin\n        </Typography>\n    </div>\n)\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  icon: {\n    margin: theme.spacing.unit,\n    fontSize: \"80px\"\n  }\n});\n\nexport default withStyles(styles)(NoContent);\n","import { useState, useEffect } from 'react';\nimport { GraphQLClient } from 'graphql-request';\n\nexport const BASE_URL = process.env.NODE_ENV === 'production' ?\n    process.env.REACT_APP_GRAPHQL_ENDPOINT_PROD :\n    process.env.REACT_APP_GRAPHQL_ENDPOINT_DEV\n\nexport const useClient = () => {\n    const [ idToken, setIdToken ] = useState(\"\");\n    useEffect(() => {\n        const token = window.gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().id_token;\n        setIdToken(token);\n    }, []);\n\n    return new GraphQLClient(BASE_URL, {\n        headers: {\n            authorization: idToken\n        }\n    });\n};","import React, { useState, useContext } from \"react\";\nimport axios from 'axios';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport AddAPhotoIcon from \"@material-ui/icons/AddAPhotoTwoTone\";\nimport LandscapeIcon from \"@material-ui/icons/LandscapeOutlined\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport SaveIcon from \"@material-ui/icons/SaveTwoTone\";\nimport { unstable_useMediaQuery as useMediaQuery } from '@material-ui/core/useMediaQuery'; \n\nimport { DELETE_DRAFT, CREATE_PIN } from '../../store/actionTypes';\nimport Context from '../../store/context';\nimport { CREATE_PIN_MUTATION } from '../../graphql/mutations';\nimport { useClient } from '../../helpers/client';\n\nconst CreatePin = ({ classes }) => {\n    const client = useClient();\n    const mobileSize = useMediaQuery('(max-width: 650px)');\n    const { state, dispatch } = useContext(Context);\n    const [ title, setTitle ] = useState(\"\");\n    const [ image, setImage ] = useState(\"\");\n    const [ content, setContent ] = useState(\"\");\n    const [ submitting, setSubmitting ] = useState(false)\n\n    const handleClearForm = () => {\n        setTitle('');\n        setImage('');\n        setContent('');\n        dispatch({ type: DELETE_DRAFT });\n    };\n\n    const handleSubmit = async event => {\n        event.preventDefault();\n        setSubmitting(true);\n        try {\n            const url = await handleImageUpload();\n            const { latitude, longitude } = state.draft;\n            const variables = {\n                title,\n                image: url,\n                content,\n                latitude,\n                longitude\n            };\n            await client.request(CREATE_PIN_MUTATION, variables)\n            handleClearForm();\n        } catch (err) {\n            setSubmitting(false)\n            throw new Error(`Error creating pin: ${err}`);\n        }\n    };\n\n    const handleImageUpload = async () => {\n        const data = new FormData();\n        data.append('file', image);\n        data.append('upload_preset', 'geopins_default');\n        data.append('cloud_name','jossendal-development');\n        data.append('folder', 'geopins'); // folder name\n        try {\n            const response = await axios.post('https://api.cloudinary.com/v1_1/jossendal-development/image/upload', data);\n            return response.data.url;\n        } catch (err) {\n            throw new Error(`Error uploading image: ${err}`)\n        }\n    };\n\n    return (\n        <form className={classes.form}>\n            <Typography\n                className={classes.alignCenter}\n                component=\"h2\"\n                variant=\"h4\"\n                color=\"secondary\"\n            >\n                <LandscapeIcon className={classes.iconLarge} /> Pin a location\n            </Typography>\n            <div>\n                <TextField \n                    name=\"title\" \n                    label=\"Title\" \n                    placeholder=\"Insert Pin title\" \n                    onChange={(e) => setTitle(e.target.value)}\n                />\n                <input \n                    accept=\"image/*\" \n                    id=\"image\" \n                    type=\"file\" \n                    className={classes.input} \n                    onChange={(e) => setImage(e.target.files[0])}\n                />\n                <label htmlFor=\"image\">\n                    <Button\n                        component=\"span\"\n                        style={{ color: image && \"green\" }}\n                        size=\"small\"\n                        className={classes.button}\n                    >\n                        <AddAPhotoIcon />\n                    </Button>\n                </label>\n            </div>\n            <div className={classes.contentField}>\n                <TextField \n                    name=\"content\" \n                    label=\"Content\" \n                    multiline \n                    rows={mobileSize ? '3' : '6'} \n                    margin=\"normal\" \n                    fullWidth \n                    variant=\"outlined\" \n                    onChange={(e) => setContent(e.target.value)}\n                />\n            </div>\n            <div>\n                <Button \n                    onClick={handleClearForm}\n                    className={classes.button} \n                    variant=\"contained\" \n                    color=\"primary\">\n                    <ClearIcon className={classes.leftIcon}/> \n                    Discard\n                </Button>\n                <Button \n                    onClick={handleSubmit}\n                    disabled={!title.trim() || !image || !content.trim() || submitting}\n                    className={classes.button} \n                    variant=\"contained\" \n                    color=\"secondary\">\n                    Submit\n                    <SaveIcon className={classes.rightIcon}/> \n                </Button>\n            </div>\n        </form>\n    )\n};\n\nconst styles = theme => ({\n  form: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    paddingBottom: theme.spacing.unit\n  },\n  contentField: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: \"95%\"\n  },\n  input: {\n    display: \"none\"\n  },\n  alignCenter: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  iconLarge: {\n    fontSize: 40,\n    marginRight: theme.spacing.unit\n  },\n  leftIcon: {\n    fontSize: 20,\n    marginRight: theme.spacing.unit\n  },\n  rightIcon: {\n    fontSize: 20,\n    marginLeft: theme.spacing.unit\n  },\n  button: {\n    marginTop: theme.spacing.unit * 2,\n    marginBottom: theme.spacing.unit * 2,\n    marginRight: theme.spacing.unit,\n    marginLeft: 0\n  }\n});\n\nexport default withStyles(styles)(CreatePin);\n","export const CREATE_PIN_MUTATION = `\n    mutation($title: String!, $image: String!, $content: String!, $latitude: Float!, $longitude: Float!) {\n        createPin(input: {\n            title: $title,\n            image: $image,\n            content: $content,\n            latitude: $latitude,\n            longitude: $longitude\n        }) {\n            _id\n            createdAt\n            title\n            image\n            content\n            latitude\n            longitude\n            author {\n                _id\n                name\n                email\n                picture\n            }\n        }\n    }\n`;\n\nexport const DELETE_PIN_MUTATION = `\n    mutation($pinId: ID!) {\n        deletePin(pinId: $pinId) {\n            _id\n        }\n    }\n`;\n\nexport const CREATE_COMMENT_MUTATION = `\n    mutation($pinId: ID!, $text: String!) {\n        createComment(pinId: $pinId, text: $text) {\n            _id\n            createdAt\n            title\n            content\n            image\n            latitude\n            longitude\n            author {\n                _id\n                name\n            }\n            comments {\n                text\n                createdAt\n                author {\n                    name\n                    picture\n                }\n            }\n        }\n    }\n`;","import React, { useState, useContext } from \"react\";\nimport { withStyles } from \"@material-ui/core\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport Context from '../../store/context';\nimport { CREATE_COMMENT_MUTATION } from '../../graphql/mutations';\nimport { useClient } from '../../helpers/client';\n\nconst CreateComment = ({ classes }) => {\n    const client = useClient();\n    const [ comment, setComment ] = useState('');\n    const { state } = useContext(Context);\n\n    const handleSubmitComment = async () => {\n        const variables = { pinId: state.currentPin._id, text: comment };\n        await client.request(CREATE_COMMENT_MUTATION, variables);\n        setComment('');\n    }\n\n    return (\n        <>\n            <form className={classes.form}>\n                <IconButton className={classes.clearButton} onClick={() => setComment('')} disabled={!comment.trim()}>\n                    <ClearIcon />\n                </IconButton>\n                <InputBase \n                    className={classes.input} \n                    placeholder=\"Add Comment\" \n                    value={comment}\n                    onChange={(e) => setComment(e.target.value)}\n                    multiline />\n                <IconButton className={classes.sendButton} onClick={handleSubmitComment} disabled={!comment.trim()}>\n                    <SendIcon size=\"10px\"/>\n                </IconButton>\n            </form>\n            <Divider />\n        </>\n    )\n};\n\nconst styles = theme => ({\n  form: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  input: {\n    marginLeft: 8,\n    flex: 1\n  },\n  clearButton: {\n    padding: 0,\n    color: \"red\"\n  },\n  sendButton: {\n    padding: 5,\n    color: theme.palette.secondary.dark\n  }\n});\n\nexport default withStyles(styles)(CreateComment);\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport format from 'date-fns/format';\n\nconst Comments = ({ classes, comments }) => (\n    <List className={classes.root}>\n        {comments.map((comment, i) => (\n            <ListItem key={i} alignItems=\"flex-start\">\n                <ListItemAvatar>\n                    <Avatar src={comment.author.picture} alt={comment.author.name} />\n                </ListItemAvatar>\n                <ListItemText \n                    primary={comment.text} \n                    secondary={\n                        <>\n                            <Typography className={classes.inline} component=\"span\" color=\"textPrimary\">\n                                {comment.author.name}\n                            </Typography>\n                            Â· { format(+comment.createdAt, \"MMM Do\") }\n                        </>\n                    }\n                />\n            </ListItem>\n        ))}\n    </List>\n)\n\nconst styles = theme => ({\n  root: {\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper\n  },\n  inline: {\n    display: \"inline\"\n  }\n});\n\nexport default withStyles(styles)(Comments);\n","import React, { useContext } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AccessTimeIcon from \"@material-ui/icons/AccessTime\";\nimport FaceIcon from \"@material-ui/icons/Face\";\nimport distanceInWordsToNow from 'date-fns/distance_in_words_to_now';\n\nimport CreateComment from '../Comment/CreateComment';\nimport Comments from '../Comment/Comments';\nimport Context from '../../store/context';\n\nconst PinContent = ({ classes }) => {\n    const { state } = useContext(Context);\n    const { title, content, author, createdAt, comments } = state.currentPin;\n\n    return (\n        <div className={classes.root}>\n            <Typography component=\"h2\" variant=\"h4\" color=\"primary\" gutterBottom>\n                {title}\n            </Typography>\n            <Typography className={classes.text} component=\"h3\" variant=\"h6\" color=\"inherit\" gutterBottom>\n                <FaceIcon className={classes.icon} /> {author.name}\n            </Typography>\n            <Typography className={classes.text} variant=\"subtitle2\" color=\"inherit\" gutterBottom>\n                <AccessTimeIcon className={classes.icon} />\n                {distanceInWordsToNow(+createdAt, {addSuffix: true})}\n            </Typography>\n            <Typography className={classes.text} variant=\"subtitle1\" gutterBottom>\n                {content}\n            </Typography>\n            {/*  pin comments  */}\n            <CreateComment />\n            <Comments comments={comments} />\n        </div>\n    )\n};\n\nconst styles = theme => ({\n  root: {\n    padding: \"1em 0.5em\",\n    textAlign: \"center\",\n    width: \"100%\"\n  },\n  icon: {\n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit\n  },\n  text: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});\n\nexport default withStyles(styles)(PinContent);\n","import React, { useContext } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Paper } from \"@material-ui/core\";\nimport { unstable_useMediaQuery as useMediaQuery } from '@material-ui/core/useMediaQuery'; \n\nimport NoContent from './Pin/NoContent';\nimport CreatePin from  './Pin/CreatePin';\nimport PinContent from './Pin/PinContent';\n\nimport Context from '../store/context';\n\nconst Blog = ({ classes }) => {\n    const { state } = useContext(Context);\n    const mobileSize = useMediaQuery('(max-width: 650px)');\n    const { draft, currentPin } = state;\n\n    let BlogContent;\n    if (!draft && !currentPin) {\n        // nocontent component\n        BlogContent = NoContent;\n    } else if (draft && !currentPin) {\n        // creating a pin and content\n        BlogContent = CreatePin;\n    } else if (!draft && currentPin) {\n        BlogContent = PinContent;\n    }\n\n    return (\n        <Paper className={mobileSize ? classes.rootMobile : classes.root}>\n            <BlogContent />\n        </Paper>\n    )\n};\n\nconst styles = {\n  root: {\n    minWidth: 350,\n    maxWidth: 400,\n    maxHeight: \"calc(100vh - 64px)\",\n    overflowY: \"scroll\",\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  rootMobile: {\n    maxWidth: \"100%\",\n    maxHeight: 300,\n    overflowX: \"hidden\",\n    overflowY: \"scroll\"\n  }\n};\n\nexport default withStyles(styles)(Blog);\n","// import React from \"react\";\n// // import PlaceTwoTone from \"@material-ui/icons/PlaceTwoTone\";\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n// export default ({ size, color, onClick }) => (\n//     // <PlaceTwoTone onClick={onClick} style={{ fontSize: size, color: color }} />\n//     <FontAwesomeIcon icon=\"map-marker-alt\" onClick={onClick} style={{ fontSize: size, color: color, cursor: 'pointer' }} />\n// );\n\n\nimport React, {PureComponent} from 'react';\n\n// const ICON = `M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3\n//   c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9\n//   C20.1,15.8,20.2,15.8,20.2,15.7z`;\n\n// const pinStyle = {\n//   cursor: 'pointer',\n//   stroke: 'none'\n// };\n\nexport default class PinIcon extends PureComponent {\n  render() {\n    const {size = 20, onClick, color} = this.props;\n\n    return (\n        <>\n        <svg width={size} height={size} viewBox=\"-16 -18 64 64\" onClick={onClick}>\n            <path fill=\"rgba(0,0,0,.2)\" stroke=\"none\"\n            transform=\"translate(-2,48) scale(1,0.5) rotate(40) translate(0,-46)\"\n            d=\"M0,47 Q0,28 10,15 A15,15 0,1,0 -10,15 Q0,28 0,47\"/>\n            <path fill={color} stroke=\"black\" strokeWidth=\"1\"\n            d=\"M0,47 Q0,28 10,15 A15,15 0,1,0 -10,15 Q0,28 0,47\"/>\n            <circle cx=\"0\" cy=\"4\" r=\"4\" fill=\"black\" stroke=\"none\"/>\n        </svg>\n\n\n        {/* \n        // a fatter shorter icon\n        <svg\n            height={size}\n            viewBox=\"0 0 24 24\"\n            style={{\n            ...pinStyle,\n            fill: color,\n            transform: `translate(${-size / 2}px,${-size}px)`\n            }}\n            onClick={onClick}\n        >\n            <path d={ICON} />\n        </svg> */}\n    </>\n    );\n  }\n}","import React, { useState, useEffect, useContext } from \"react\";\nimport ReactMapGL, { NavigationControl, Marker, Popup } from 'react-map-gl';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { unstable_useMediaQuery as useMediaQuery } from '@material-ui/core/useMediaQuery'; \nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Subscription } from 'react-apollo';\n\nimport { CREATE_DRAFT, UPDATE_DRAFT_LOCATION, GET_PINS, CREATE_PIN, SET_PIN, DELETE_PIN, CREATE_COMMENT } from '../store/actionTypes';\nimport { PIN_ADDED_SUBSCRIPTION, PIN_DELETED_SUBSCRIPTION, PIN_UPDATED_SUBSCRIPTION } from '../graphql/subscriptions';\nimport Blog from    './Blog';\nimport PinIcon from './PinIcon';\nimport Context from '../store/context';\nimport { useClient } from '../helpers/client';\nimport { GET_PINS_QUERY } from '../graphql/queries';\nimport { DELETE_PIN_MUTATION } from '../graphql/mutations';\nimport { differenceInHours } from \"date-fns\";\n\nconst INITIAL_VIEWPORT = {\n    latitude: 36.1577,\n    longitude: -115.1376,\n    zoom: 10\n};\n\nconst Map = ({ classes }) => {\n    const client = useClient();\n    const mobileSize = useMediaQuery('(max-width: 650px)');\n    const { state, dispatch } = useContext(Context);\n    useEffect(() => {\n        getPins()\n    }, []);\n\n    const [ viewport, setViewport ] = useState(INITIAL_VIEWPORT);\n    const [ userPosition, setUserPosition ] = useState(null);\n    useEffect(() => {\n        getUserPosition()\n    }, []);\n    const [ popup, setPopup ] = useState(null);\n\n    // remove popup if author deletes pin while another user is viewing it\n    useEffect(() => {\n        const pinExists = popup && state.pins.findIndex(pin => pin._id === popup._id) > -1;\n        if (!pinExists) setPopup(null);\n    }, [state.pins.length]);\n\n    const getUserPosition = () => {\n        if('geolocation' in navigator) {\n            window.navigator.geolocation.getCurrentPosition((position) => {\n                const { latitude, longitude } = position.coords;\n                setViewport({ ...viewport, latitude, longitude, zoom: 13 });\n                setUserPosition({ latitude, longitude });\n            })\n        }\n    };\n\n    const getPins = async () => {\n        const { getPins } = await client.request(GET_PINS_QUERY);\n        console.log(\"PINS\", getPins)\n        dispatch({ type: GET_PINS, payload: getPins})\n    }\n\n    const handleMapClick = ({ lngLat, leftButton }) => {\n        if(!leftButton) return;\n        if (!state.draft) {\n            dispatch({ type: CREATE_DRAFT })\n        }\n        const [longitude, latitude] = lngLat;\n        dispatch({ type: UPDATE_DRAFT_LOCATION, payload: { latitude, longitude } });\n    };\n\n    const onMarkerDragStart = event => {\n        // this._logDragEvent('onDragStart', event);\n    };\n    \n    const onMarkerDrag = event => {\n        // this._logDragEvent('onDrag', event);\n    };\n    \n    const onMarkerDragEnd = ({ lngLat }) => {\n        // this._logDragEvent('onDragEnd', lngLat);\n        const [longitude, latitude] = lngLat;\n        dispatch({ type: UPDATE_DRAFT_LOCATION, payload: { latitude, longitude } });\n    };\n\n    const highlightOldPin = pin => {\n        const olderThanHours = differenceInHours(Date.now(), +pin.createdAt) >= 1\n        return olderThanHours ? 'black' : 'blue'\n    };\n\n    const handleSelectPin = pin => {\n        setPopup(pin);\n        dispatch({ type: SET_PIN, payload: pin})\n    };\n\n    const isAuthUser = () => state.currentUser._id === popup.author._id;\n\n    const handleDeletePin = async pin => {\n        try {\n            const variables = { pinId: pin._id };\n            await client.request(DELETE_PIN_MUTATION, variables);\n            setPopup(null);\n        } catch (error) {\n            throw new Error(\"Error deleting pin:\", error)\n        }\n    };\n\n    return (\n        <div className={mobileSize ? classes.rootMobile: classes.root}>\n            <ReactMapGL \n                mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_PUBLIC_TOKEN}\n                width=\"100vw\"\n                height=\"calc(100vh - 64px)\"\n                mapStyle=\"mapbox://styles/mapbox/streets-v9\"\n                onViewportChange={newViewport => setViewport(newViewport)}\n                onClick={handleMapClick}\n                scrollZoom={!mobileSize}\n                { ...viewport }\n            >\n                {/* controls */}\n                <div className={classes.navigationControl}>\n                    <NavigationControl onViewportChange={newViewport => setViewport(newViewport)} />\n                </div>\n                {/* user pin */}\n                {userPosition && (\n                    <Marker\n                        latitude={userPosition.latitude}\n                        longitude={userPosition.longitude}\n                        offsetLeft={-5}\n                        offsetTop={-28}\n                    >\n                        <PinIcon color=\"rgba(255,0,0,0.7\" size={30} />\n                    </Marker>\n                )}\n                {/* draft pin */}\n                {state.draft && (\n                    <Marker\n                        latitude={state.draft.latitude}\n                        longitude={state.draft.longitude}\n                        draggable\n                        onDragStart={onMarkerDragStart}\n                        onDrag={onMarkerDrag}\n                        onDragEnd={onMarkerDragEnd}\n                        offsetLeft={-5}\n                        offsetTop={-28}\n                    >\n                        <PinIcon color=\"hotpink\" size={25} />\n                    </Marker>\n                )}\n                {/* created pins array */}\n                {state.pins.length > 0 && state.pins.map(pin => (\n                    <Marker\n                        key={pin._id}\n                        latitude={pin.latitude}\n                        longitude={pin.longitude}\n                        offsetLeft={-5}\n                        offsetTop={-28}\n                    >\n                        <PinIcon onClick={() => handleSelectPin(pin)} size={25} color={highlightOldPin(pin)} />\n                    </Marker>\n                ))}\n                {/*  popup dialog for created pins */}\n                {popup && (\n                    <Popup\n                        anchor=\"top\"\n                        latitude={popup.latitude}\n                        longitude={popup.longitude}\n                        closeOnClick={false}\n                        onClose={() => setPopup(null)}\n                    >\n                        <img\n                            className={classes.popupImage}\n                            src={popup.image}\n                            alt={popup.title}\n                        />\n                        <div className={classes.popupTab}>\n                            <Typography>\n                                {popup.latitude.toFixed(6)}, {popup.longitude.toFixed(6)}\n                            </Typography>\n                            {isAuthUser() && (\n                                <Button onClick={() => handleDeletePin(popup)}>\n                                    <FontAwesomeIcon icon=\"trash-alt\" className={classes.deleteIcon} />\n                                </Button>\n                            )}\n                        </div>\n                    </Popup>\n                )}\n            </ReactMapGL>\n            {/* Subscriptions fro creating updating and deleting pins */}\n            <Subscription\n                subscription={PIN_ADDED_SUBSCRIPTION}\n                onSubscriptionData={({ subscriptionData }) => {\n                    const { pinAdded } = subscriptionData.data;\n                    console.log(\"PIN ADDED\", { pinAdded })\n                    dispatch({ type: CREATE_PIN, payload: pinAdded })\n                }}\n            />\n            <Subscription\n                subscription={PIN_UPDATED_SUBSCRIPTION}\n                onSubscriptionData={({ subscriptionData }) => {\n                    const { pinUpdated } = subscriptionData.data;\n                    console.log(\"PIN UPDATED\", { pinUpdated })\n                    dispatch({ type: CREATE_COMMENT, payload: pinUpdated })\n                }}\n            />\n            <Subscription\n                subscription={PIN_DELETED_SUBSCRIPTION}\n                onSubscriptionData={({ subscriptionData }) => {\n                    const { pinDeleted } = subscriptionData.data;\n                    console.log(\"PIN DELETED\", { pinDeleted })\n                    dispatch({ type: DELETE_PIN, payload: pinDeleted })\n                }}\n            />\n            {/* Blog area for pin content*/}\n            <Blog />\n        </div>\n    )\n};\n\nconst styles = {\n  root: {\n    display: \"flex\"\n  },\n  rootMobile: {\n    display: \"flex\",\n    flexDirection: \"column-reverse\"\n  },\n  navigationControl: {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    margin: \"1em\"\n  },\n  deleteIcon: {\n    color: \"red\"\n  },\n  popupImage: {\n    padding: \"0.4em\",\n    height: 200,\n    width: 200,\n    objectFit: \"cover\"\n  },\n  popupTab: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\"\n  }\n};\n\nexport default withStyles(styles)(Map);\n","export const ME_QUERY = `\n{\n    me {\n        _id\n        name\n        email\n        picture\n    }\n}`;\n\nexport const GET_PINS_QUERY = `\n{\n    getPins {\n        _id\n        createdAt\n        title\n        image\n        content\n        latitude\n        longitude\n        author {\n            _id\n            name\n            email\n            picture\n        }\n        comments {\n            text\n            createdAt\n            author {\n                _id\n                name\n                picture\n            }\n        }\n    }\n}\n`","import React from \"react\";\nimport withRoot from \"../withRoot\";\n\nimport Header from '../components/Header';\nimport Map from '../components/Map';\n\nconst App = () => {\n    return (\n        <>\n            <Header />\n            <Map />\n        </>\n    )\n};\n\nexport default withRoot(App);\n","import React, { useContext } from \"react\";\nimport { GraphQLClient } from 'graphql-request';\nimport { GoogleLogin } from 'react-google-login';\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { ME_QUERY } from '../../graphql/queries';\nimport { LOGIN_USER, IS_LOGGED_IN } from '../../store/actionTypes';\nimport Context from '../../store/context';\nimport { BASE_URL } from '../../helpers/client';\n\nconst Login = ({ classes }) => {\n    console.log(\"BASE_URL_LOGIN\", BASE_URL)\n    const { dispatch } = useContext(Context);\n\n    const onSuccess = async googleUser => {\n        try {\n            const idToken = googleUser.getAuthResponse().id_token;\n            const client = new GraphQLClient(BASE_URL, {\n                headers: {\n                    authorization: idToken\n                }\n            })\n            const { me } = await client.request(ME_QUERY);\n            dispatch({ type: LOGIN_USER, payload: me });\n            dispatch({ type: IS_LOGGED_IN, payload: googleUser.isSignedIn() });\n        } catch (err) {\n            onFailure(err);\n        }\n    };\n\n    const onFailure = err => {\n        console.error(`Error logging in: ${JSON.stringify(err)}`);\n            dispatch({ type: IS_LOGGED_IN, payload: false });\n    };\n\n    return (\n        <div className={classes.root}>\n            <Typography component=\"h1\" variant=\"h3\" gutterBottom noWrap style={{ color: \"rgb(66, 133, 244)\" }}>\n                Welcome\n            </Typography>\n            <GoogleLogin \n                clientId={process.env.REACT_APP_OAUTH_CLIENT_ID} \n                onSuccess={onSuccess}\n                onFailure={onFailure}\n                buttonText=\"Login with Google\"\n                isSignedIn={true}\n                theme=\"dark\"\n            />\n        </div>\n    )\n};\n\nconst styles = {\n  root: {\n    height: \"100vh\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }\n};\n\nexport default withStyles(styles)(Login);\n","import React, {useContext } from \"react\";\nimport { Redirect } from 'react-router-dom';\n\nimport Login from '../components/Auth/Login';\nimport Context from '../store/context';\n\nconst Splash = () => {\n    const { state } = useContext(Context);\n    return state.isAuth ? <Redirect to=\"/\" /> : <Login />;\n};\n\nexport default Splash;\n","import { \n    LOGIN_USER, \n    IS_LOGGED_IN, \n    SIGNOUT_USER, \n    CREATE_DRAFT, \n    UPDATE_DRAFT_LOCATION,\n    DELETE_DRAFT,\n    GET_PINS,\n    CREATE_PIN,\n    SET_PIN,\n    DELETE_PIN,\n    CREATE_COMMENT,\n} from './actionTypes';\n\nexport default function reducer(state, action) {\n    switch(action.type) {\n        case LOGIN_USER:\n            return { ...state, currentUser: action.payload }\n        case IS_LOGGED_IN:\n            return { ...state, isAuth: action.payload }\n        case SIGNOUT_USER:\n            return {\n                ...state, \n                currentUser: null,\n                isAuth: false\n            }\n        case CREATE_DRAFT:\n            return {\n                ...state,\n                currentPin: null,\n                draft: {\n                    latitude: 0,\n                    longitude: 0\n                }\n            }\n        case UPDATE_DRAFT_LOCATION:\n            return {\n                ...state,\n                draft: {\n                    latitude: action.payload.latitude,\n                    longitude: action.payload.longitude\n                }\n            }\n        case DELETE_DRAFT:\n            return {\n                ...state,\n                draft: null\n            }\n        case GET_PINS:\n            return {\n                ...state,\n                pins: action.payload\n            }\n        case CREATE_PIN:\n            const newPin = action.payload;\n            const prevPins = state.pins.filter(pin => pin._id !== newPin._id);\n            return {\n                ...state,\n                pins: [...prevPins, newPin]\n            }\n        case SET_PIN:\n            return {\n                ...state,\n                currentPin: action.payload,\n                draft: null\n            }\n        case DELETE_PIN:\n            const deletedPin = action.payload;\n            const filteredPins = state.pins.filter(pin => {\n                return pin._id !== deletedPin._id\n            })\n            if (state.currentPin) {\n                const isCurrentPin = deletedPin._id === state.currentPin._id;\n                if (isCurrentPin) {\n                    return {\n                        ...state,\n                        pins: filteredPins,\n                        currentPin: null\n                    };\n                }\n            }\n            return {\n                ...state,\n                pins: filteredPins\n            };\n        case CREATE_COMMENT:\n            const updatedCurrentPin = action.payload;\n            // find and replace\n            const updatedPins = state.pins.map(pin => \n                pin._id === updatedCurrentPin._id ? updatedCurrentPin : pin\n            )\n            return {\n                ...state,\n                pins: updatedPins,\n                currentPin: updatedCurrentPin\n            }\n        default:\n            return state;\n    }\n};","import React, { useContext, Component } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport Context from '../store/context';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n    const { state } = useContext(Context);\n    return (\n        <Route render={props => !state.isAuth ? <Redirect to=\"/login\" /> : <Component {...props} /> } {...props} />\n    )\n};\n\nexport default ProtectedRoute;","import { library } from '@fortawesome/fontawesome-svg-core';\n\n// import your icons\nimport { faMapMarkerAlt, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\n\nlibrary.add(\n    faMapMarkerAlt,\n    faTrashAlt\n  // more icons go here\n);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { useContext, useReducer } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport App from \"./pages/App\";\nimport Splash from \"./pages/Splash\";\nimport Context from './store/context';\nimport reducer from './store/reducer';\nimport ProtectedRoute from './routes/ProtectedRoute';\nimport './fontawesome';\n\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport { ApolloProvider } from 'react-apollo';\nimport { ApolloClient } from 'apollo-client';\nimport { WebSocketLink } from 'apollo-link-ws';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\n\nconsole.log(\"ENV\", process.env)\nconst wslink = new WebSocketLink({\n    uri: process.env.NODE_ENV === 'production' ? \n         process.env.REACT_APP_APOLLO_WEBSOCKET_URL_PROD :\n         process.env.REACT_APP_APOLLO_WEBSOCKET_URL_DEV,\n    options: {\n        reconnect: true\n    }\n});\n\nconst client = new ApolloClient({\n    link: wslink,\n    cache: new InMemoryCache()\n});\n\nconst Root = () => {\n    const initialState = useContext(Context);\n    const [ state, dispatch ] = useReducer(reducer, initialState)\n\n    return (\n        <Router>\n            <ApolloProvider client={client}>\n                <Context.Provider value={{ state, dispatch }}>\n                    <Switch>\n                        <ProtectedRoute exact path=\"/\" component={App} />\n                        <Route path=\"/login\" component={Splash} />\n                    </Switch>\n                </Context.Provider>\n            </ApolloProvider>\n        </Router>\n    );\n};\n\nReactDOM.render(<Root />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}